## ---------------------------------------------------------------------------
## Project settings
## ---------------------------------------------------------------------------

PROJECT_NAME=local-finetuning
ENV=dev

## Execution profile: cpu | gpu
PROFILE=gpu

## ---------------------------------------------------------------------------
## Data settings
## ---------------------------------------------------------------------------

DATA_DIR=./data
RAW_DATA_DIR=./data/raw
INTERIM_DATA_DIR=./data/interim
PROCESSED_DATA_DIR=./data/processed

TRAIN_FILE=train.jsonl
VAL_FILE=val.jsonl
TEST_FILE=test.jsonl

LABEL_LIST_FILE=./data/labels.txt

## Dataset split ratios
TRAIN_RATIO=0.8
VAL_RATIO=0.1
TEST_RATIO=0.1
SPLIT_SEED=42

## ---------------------------------------------------------------------------
## Training settings (COMMON)
## ---------------------------------------------------------------------------

BASE_MODEL_NAME=mistralai/Mistral-7B-Instruct-v0.3
OUTPUT_DIR=./artifacts/runs
SEED=42
LEARNING_RATE=2e-4

## ---------------------------------------------------------------------------
## Training settings (CPU profile)
## Applied when PROFILE=cpu
## ---------------------------------------------------------------------------

CPU_USE_GPU=false
CPU_NUM_TRAIN_EPOCHS=1
CPU_BATCH_SIZE=1
CPU_GRAD_ACCUM_STEPS=1
CPU_MAX_SEQ_LEN=256
CPU_BF16=false
CPU_FP16=false
CPU_QUANTIZATION_4BIT=false

## ---------------------------------------------------------------------------
## Training settings (GPU profile)
## Applied when PROFILE=gpu
## ---------------------------------------------------------------------------

GPU_USE_GPU=true
GPU_NUM_TRAIN_EPOCHS=3
GPU_BATCH_SIZE=2
GPU_GRAD_ACCUM_STEPS=8
GPU_MAX_SEQ_LEN=512
GPU_BF16=true
GPU_FP16=false
GPU_QUANTIZATION_4BIT=false

## ---------------------------------------------------------------------------
## LoRA settings
## ---------------------------------------------------------------------------

LORA_R=16
LORA_ALPHA=32
LORA_DROPOUT=0.05

## ---------------------------------------------------------------------------
## Logging / checkpoints
## ---------------------------------------------------------------------------

LOGGING_STEPS=25
SAVE_STEPS=200

## ---------------------------------------------------------------------------
## Evaluation settings
## ---------------------------------------------------------------------------

TOP_K=1
ENABLE_REJECT=true
REJECT_TOKEN=UNKNOWN
MAX_NEW_TOKENS=16
